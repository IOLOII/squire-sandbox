<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Squire Sandbox</title>
  <script src="./squire-raw.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div id="squire"></div>
  <br>
  <textarea id="editor-html" readonly></textarea>
  <script>
    const editor_div = document.getElementById('squire')
    const editor = new Squire(editor_div)

    editor.addEventListener('input', (e) => {
      $('#editor-html').val(editor.getHTML())
    })

    editor.addEventListener('dragover', (e) => {
      e.preventDefault()
    })

    editor.addEventListener('drop', (e) => {
      const reader = new FileReader();
      reader.onload = (e) => {
        editor.insertImage(e.target.result)
      }
      reader.readAsDataURL(e.dataTransfer.files[0])
    })

  </script>
</body>
</html>